<div class="cart-container" *ngIf="carrito.length > 0; else carritoVacio">
  <h2>Tu carrito</h2>

  <div *ngFor="let item of carrito" class="cart-item">
    <img [src]="item.img" alt="{{ item.nombre }}" class="item-img" />

    <div class="item-details">
      <h3>{{ item.nombre }}</h3>
      <p>Autor: {{ item.autor }}</p>
      <p>Precio: ${{ item.precio }}</p>
      <p>Subtotal: ${{ item.subtotal }}</p>

      <label for="cantidad-{{ item._id }}">Cantidad:</label>
<input
  type="number"
  [value]="item.cantidad"
  (change)="onCantidadChange($event, item._id)"
  min="1"
  id="cantidad-{{ item._id }}"
/>

      <button (click)="eliminarItem(item._id)" class="btn-eliminar">
        Eliminar
      </button>
    </div>
  </div>

  <div class="cart-total">
    <h3>Total a pagar: ${{ total }}</h3>
    <button class="btn-pagar">Finalizar compra</button>
  </div>
</div>

<ng-template #carritoVacio>
  <div class="empty-cart">
    <h2>Tu carrito está vacío</h2>
    <a routerLink="/obras" class="btn-volver">Ver obras</a>
  </div>
</ng-template>
