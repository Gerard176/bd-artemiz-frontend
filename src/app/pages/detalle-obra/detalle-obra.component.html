<!--<div *ngIf="obra" class="detalle-container">
  <div class="detalle-izquierda">
    <img [src]="obra.img" [alt]="obra.nombre">
  </div>
  <div class="detalle-derecha">
    <h2>{{ obra.nombre }}</h2>
    <p><strong>Autor:</strong> {{ obra.autor }}</p>
    <p><strong>Descripci√≥n:</strong> {{ obra.descripcion }}</p>
    <p><strong>Tama√±o:</strong> {{ obra['tama√±o'] }}</p>
    <p><strong>Categor√≠a:</strong> {{ obra.categoria }}</p>
    <p><strong>Precio:</strong> ${{ obra.precio }}</p>
  </div>
</div>-->

<!-- FORMULARIO DE NUEVA RESE√ëA -->
<!--<div class="resena-formulario">
  <h3>Agregar una rese√±a</h3>

  <textarea [(ngModel)]="nuevaResena.contenido" placeholder="Escribe tu rese√±a..."></textarea>

  <label>Valoraci√≥n:
    <select [(ngModel)]="nuevaResena.valoracion">
      <option [ngValue]="null" disabled selected>Selecciona calificaci√≥n</option>
      <option *ngFor="let valor of [1,2,3,4,5]" [value]="valor">{{ valor }} ‚≠ê</option>
    </select>
  </label>

  <button (click)="enviarResena()" [disabled]="enviando || !nuevaResena.contenido || !nuevaResena.valoracion">
    {{ enviando ? 'Enviando...' : 'Enviar rese√±a' }}
  </button>

  <p *ngIf="mensaje" class="mensaje">{{ mensaje }}</p>
</div>-->

<!-- RESE√ëAS EXISTENTES -->
<!--<div class="resenas-container" *ngIf="resenas.length > 0">
  <h3>Rese√±as</h3>
  <div *ngFor="let resena of resenas" class="resena">
    <div class="resena-usuario">
      <img [src]="resena.usuario.img" alt="usuario" class="avatar">
      <div>
        <strong>{{ resena.usuario.nombre }}</strong>
        <span>{{ resena.usuario.email }}</span>
      </div>
    </div>
    <p class="contenido">{{ resena.contenido }}</p>
    <p><strong>Valoraci√≥n:</strong> {{ resena.valoracion }} ‚≠ê</p>
    <p><strong>Fecha:</strong> {{ resena.fecha | date:'mediumDate' }}</p>
  </div>
</div> -->
<div *ngIf="obra" class="detalle-container">
  <div class="detalle-izquierda">
    <img [src]="obra.img" [alt]="obra.nombre">
  </div>
  <div class="detalle-derecha">
    <h2>{{ obra.nombre }}</h2>
    <p><strong>Autor:</strong> {{ obra.autor }}</p>
    <p><strong>Descripci√≥n:</strong> {{ obra.descripcion }}</p>
    <p><strong>Tama√±o:</strong> {{ obra['tama√±o'] }}</p>
    <p><strong>Categor√≠a:</strong> {{ obra.categoria }}</p>
    <p><strong>Precio:</strong> ${{ obra.precio }}</p>
  </div>
</div>

<!-- FORMULARIO DE NUEVA RESE√ëA -->
<div class="resena-formulario" *ngIf="!miResena && !editando">
  <h3>Agregar una rese√±a</h3>

  <textarea [(ngModel)]="nuevaResena.contenido" placeholder="Escribe tu rese√±a..."></textarea>

  <label>Valoraci√≥n:
    <select [(ngModel)]="nuevaResena.valoracion">
      <option [ngValue]="null" disabled selected>Selecciona calificaci√≥n</option>
      <option *ngFor="let valor of [1,2,3,4,5]" [value]="valor">{{ valor }} ‚≠ê</option>
    </select>
  </label>

  <button (click)="enviarResena()" [disabled]="enviando || !nuevaResena.contenido || !nuevaResena.valoracion">
    {{ enviando ? 'Enviando...' : 'Enviar rese√±a' }}
  </button>

  <p *ngIf="mensaje" class="mensaje">{{ mensaje }}</p>
</div>

<!-- RESE√ëA DEL USUARIO ACTUAL -->
<div *ngIf="miResena && !editando" class="resena-usuario-propia">
  <h3>Tu rese√±a</h3>
  <p>{{ miResena.contenido }}</p>
  <p><strong>Valoraci√≥n:</strong> {{ miResena.valoracion }} ‚≠ê</p>
  <button (click)="activarEdicion()">Editar rese√±a ‚úèÔ∏è</button>
  <button (click)="eliminarResena()">Eliminar rese√±a üóëÔ∏è</button>
  <p *ngIf="mensaje" class="mensaje">{{ mensaje }}</p>
</div>

<!-- FORMULARIO DE EDICI√ìN -->
<div *ngIf="editando" class="resena-editar">
  <h3>Editar tu rese√±a</h3>

  <textarea [(ngModel)]="contenidoEditado" placeholder="Edita tu rese√±a..."></textarea>

  <label>Valoraci√≥n:
    <select [(ngModel)]="valoracionEditada">
      <option *ngFor="let valor of [1,2,3,4,5]" [value]="valor">{{ valor }} ‚≠ê</option>
    </select>
  </label>

  <button (click)="guardarEdicion()">Guardar cambios ‚úîÔ∏è</button>
  <button (click)="cancelarEdicion()">Cancelar ‚ùå</button>

  <p *ngIf="mensaje" class="mensaje">{{ mensaje }}</p>
</div>

<!-- OTRAS RESE√ëAS -->
<div class="resenas-container" *ngIf="resenas.length > 0">
  <h3>Otras rese√±as</h3>
  <div *ngFor="let resena of resenas" class="resena">
    <div class="resena-usuario">
      <img [src]="resena.usuario.img" alt="usuario" class="avatar">
      <div>
        <strong>{{ resena.usuario.nombre }}</strong>
        <span>{{ resena.usuario.email }}</span>
      </div>
    </div>
    <p class="contenido">{{ resena.contenido }}</p>
    <p><strong>Valoraci√≥n:</strong> {{ resena.valoracion }} ‚≠ê</p>
    <p><strong>Fecha:</strong> {{ resena.fecha | date:'mediumDate' }}</p>
  </div>
</div>
